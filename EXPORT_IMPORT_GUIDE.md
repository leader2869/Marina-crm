# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —ç–∫—Å–ø–æ—Ä—Ç—É –∏ –∏–º–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–±–ª–µ–º–∞: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π

–ï—Å–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ:
1. –í –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
2. –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ Supabase –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ **–ª–æ–∫–∞–ª—å–Ω–∞—è** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞:

```env
# –î–ª—è –≠–ö–°–ü–û–†–¢–ê - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
DB_HOST=localhost
DB_PORT=5432
DB_NAME=marina_crm
DB_USER=postgres
DB_PASSWORD=–≤–∞—à_–ª–æ–∫–∞–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å

# –ó–ê–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô–¢–ï –∏–ª–∏ –£–î–ê–õ–ò–¢–ï DATABASE_URL –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
# DATABASE_URL=postgresql://...
```

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `DATABASE_URL`, —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `DB_HOST`, `DB_PORT` –∏ —Ç.–¥.

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
npm run test-supabase
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ psql:

```bash
psql -h localhost -U postgres -d marina_crm -c "SELECT COUNT(*) FROM users;"
```

### –®–ê–ì 3: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î

```bash
npm run export-data
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏:**
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞`
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞: `‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: X`
- –ï—Å–ª–∏ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `0`, –∑–Ω–∞—á–∏—Ç –≤ –ë–î –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö

### –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `./exports/data_export_YYYY-MM-DDTHH-MM-SS.json`

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "users": [
    { "id": 1, "email": "...", ... },
    ...
  ],
  "clubs": [ ... ],
  ...
}
```

**–ï—Å–ª–∏ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run seed` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –®–ê–ì 5: –û–±–Ω–æ–≤–∏—Ç–µ .env –¥–ª—è Supabase

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ `.env` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase:

```env
# –î–ª—è –ò–ú–ü–û–†–¢–ê - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
DB_HOST=aws-0-[REGION].pooler.supabase.com
DB_PORT=6543
DB_NAME=postgres
DB_USER=postgres.[PROJECT-REF]
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–æ—Ç_supabase
```

### –®–ê–ì 6: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase

```bash
npm run import-data ./exports/data_export_2025-11-10T09-06-05.json
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏:**
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞`
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞: `‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: X`

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞", –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ:
   ```sql
   SELECT COUNT(*) FROM users;
   SELECT COUNT(*) FROM clubs;
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Supabase –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–¥–∞–ª–∏—Ç–µ –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ `DATABASE_URL` –≤ `.env`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USER`, `DB_PASSWORD`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –í –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ seed –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
   ```bash
   npm run seed
   ```
2. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìù –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ .env –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

```env
# –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=marina_crm
DB_USER=postgres
DB_PASSWORD=postgres

# –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DATABASE_URL –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
# DATABASE_URL=...
```

## üìù –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ .env –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

```env
# Supabase (–¥–ª—è –∏–º–ø–æ—Ä—Ç–∞)
DATABASE_URL=postgresql://postgres.xxxxx:password@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DATABASE_URL` –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** - `DATABASE_URL` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
2. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DB_HOST=localhost`
3. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ Supabase** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DATABASE_URL` —Å Supabase connection string
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏** - —Ç–∞–º –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö/–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

